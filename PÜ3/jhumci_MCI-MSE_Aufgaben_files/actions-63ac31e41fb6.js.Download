"use strict";(()=>{var q=Object.defineProperty;var h=(F,T)=>q(F,"name",{value:T,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[8107],{3447:(F,T,p)=>{p.d(T,{D:()=>x,P:()=>g});var a=p(46263);function g(O=0,y={}){return(n,d,E)=>{if(!E||typeof E.value!="function")throw new Error("debounce can only decorate functions");const b=E.value;E.value=(0,a.P)(b,O,y),Object.defineProperty(n,d,E)}}h(g,"throttle");function x(O=0,y={}){return(n,d,E)=>{if(!E||typeof E.value!="function")throw new Error("debounce can only decorate functions");const b=E.value;E.value=(0,a.D)(b,O,y),Object.defineProperty(n,d,E)}}h(x,"debounce")},46263:(F,T,p)=>{p.d(T,{D:()=>g,P:()=>a});function a(x,O=0,{start:y=!0,middle:n=!0,once:d=!1}={}){let E=0,b,c=!1;function _(...S){if(c)return;const A=Date.now()-E;E=Date.now(),y?(y=!1,x.apply(this,S),d&&_.cancel()):(n&&A<O||!n)&&(clearTimeout(b),b=setTimeout(()=>{E=Date.now(),x.apply(this,S),d&&_.cancel()},n?O-A:O))}return h(_,"fn"),_.cancel=()=>{clearTimeout(b),c=!0},_}h(a,"throttle");function g(x,O=0,{start:y=!1,middle:n=!1,once:d=!1}={}){return a(x,O,{start:y,middle:n,once:d})}h(g,"debounce")},59753:(F,T,p)=>{p.d(T,{f:()=>U,on:()=>z});function a(){if(!(this instanceof a))return new a;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}h(a,"SelectorSet");var g=window.document.documentElement,x=g.matches||g.webkitMatchesSelector||g.mozMatchesSelector||g.oMatchesSelector||g.msMatchesSelector;a.prototype.matchesSelector=function(r,o){return x.call(r,o)},a.prototype.querySelectorAll=function(r,o){return o.querySelectorAll(r)},a.prototype.indexes=[];var O=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;a.prototype.indexes.push({name:"ID",selector:h(function(o){var u;if(u=o.match(O))return u[0].slice(1)},"matchIdSelector"),element:h(function(o){if(o.id)return[o.id]},"getElementId")});var y=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;a.prototype.indexes.push({name:"CLASS",selector:h(function(o){var u;if(u=o.match(y))return u[0].slice(1)},"matchClassSelector"),element:h(function(o){var u=o.className;if(u){if(typeof u=="string")return u.split(/\s/);if(typeof u=="object"&&"baseVal"in u)return u.baseVal.split(/\s/)}},"getElementClassNames")});var n=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;a.prototype.indexes.push({name:"TAG",selector:h(function(o){var u;if(u=o.match(n))return u[0].toUpperCase()},"matchTagSelector"),element:h(function(o){return[o.nodeName.toUpperCase()]},"getElementTagName")}),a.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}};var d;typeof window.Map=="function"?d=window.Map:d=function(){function r(){this.map={}}return h(r,"Map"),r.prototype.get=function(o){return this.map[o+" "]},r.prototype.set=function(o,u){this.map[o+" "]=u},r}();var E=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function b(r,o){r=r.slice(0).concat(r.default);var u=r.length,v,f,C,m,R=o,D,M,P=[];do if(E.exec(""),(C=E.exec(R))&&(R=C[3],C[2]||!R)){for(v=0;v<u;v++)if(M=r[v],D=M.selector(C[1])){for(f=P.length,m=!1;f--;)if(P[f].index===M&&P[f].key===D){m=!0;break}m||P.push({index:M,key:D});break}}while(C);return P}h(b,"parseSelectorIndexes");function c(r,o){var u,v,f;for(u=0,v=r.length;u<v;u++)if(f=r[u],o.isPrototypeOf(f))return f}h(c,"findByPrototype"),a.prototype.logDefaultIndexUsed=function(){},a.prototype.add=function(r,o){var u,v,f,C,m,R,D,M,P=this.activeIndexes,B=this.selectors,K=this.selectorObjects;if(typeof r=="string"){for(u={id:this.uid++,selector:r,data:o},K[u.id]=u,D=b(this.indexes,r),v=0;v<D.length;v++)M=D[v],C=M.key,f=M.index,m=c(P,f),m||(m=Object.create(f),m.map=new d,P.push(m)),f===this.indexes.default&&this.logDefaultIndexUsed(u),R=m.map.get(C),R||(R=[],m.map.set(C,R)),R.push(u);this.size++,B.push(r)}},a.prototype.remove=function(r,o){if(typeof r=="string"){var u,v,f,C,m,R,D,M,P=this.activeIndexes,B=this.selectors=[],K=this.selectorObjects,Q={},N=arguments.length===1;for(u=b(this.indexes,r),f=0;f<u.length;f++)for(v=u[f],C=P.length;C--;)if(R=P[C],v.index.isPrototypeOf(R)){if(D=R.map.get(v.key),D)for(m=D.length;m--;)M=D[m],M.selector===r&&(N||M.data===o)&&(D.splice(m,1),Q[M.id]=!0);break}for(f in Q)delete K[f],this.size--;for(f in K)B.push(K[f].selector)}};function _(r,o){return r.id-o.id}h(_,"sortById"),a.prototype.queryAll=function(r){if(!this.selectors.length)return[];var o={},u=[],v=this.querySelectorAll(this.selectors.join(", "),r),f,C,m,R,D,M,P,B;for(f=0,m=v.length;f<m;f++)for(D=v[f],M=this.matches(D),C=0,R=M.length;C<R;C++)B=M[C],o[B.id]?P=o[B.id]:(P={id:B.id,selector:B.selector,data:B.data,elements:[]},o[B.id]=P,u.push(P)),P.elements.push(D);return u.sort(_)},a.prototype.matches=function(r){if(!r)return[];var o,u,v,f,C,m,R,D,M,P,B,K=this.activeIndexes,Q={},N=[];for(o=0,f=K.length;o<f;o++)if(R=K[o],D=R.element(r),D){for(u=0,C=D.length;u<C;u++)if(M=R.map.get(D[u]))for(v=0,m=M.length;v<m;v++)P=M[v],B=P.id,!Q[B]&&this.matchesSelector(r,P.selector)&&(Q[B]=!0,N.push(P))}return N.sort(_)};var S={},A={},s=new WeakMap,i=new WeakMap,e=new WeakMap,t=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function l(r,o,u){var v=r[o];return r[o]=function(){return u.apply(r,arguments),v.apply(r,arguments)},r}h(l,"before");function w(r,o,u){var v=[],f=o;do{if(f.nodeType!==1)break;var C=r.matches(f);if(C.length){var m={node:f,observers:C};u?v.unshift(m):v.push(m)}}while(f=f.parentElement);return v}h(w,"dist_matches");function I(){s.set(this,!0)}h(I,"trackPropagation");function k(){s.set(this,!0),i.set(this,!0)}h(k,"trackImmediate");function L(){return e.get(this)||null}h(L,"getCurrentTarget");function W(r,o){!t||Object.defineProperty(r,"currentTarget",{configurable:!0,enumerable:!0,get:o||t.get})}h(W,"defineCurrentTarget");function $(r){try{return r.eventPhase,!0}catch{return!1}}h($,"canDispatch");function j(r){if(!!$(r)){var o=r.eventPhase===1?A:S,u=o[r.type];if(!!u){var v=w(u,r.target,r.eventPhase===1);if(!!v.length){l(r,"stopPropagation",I),l(r,"stopImmediatePropagation",k),W(r,L);for(var f=0,C=v.length;f<C&&!s.get(r);f++){var m=v[f];e.set(r,m.node);for(var R=0,D=m.observers.length;R<D&&!i.get(r);R++)m.observers[R].data.call(m.node,r)}e.delete(r),W(r)}}}}h(j,"dispatch");function z(r,o,u){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},f=!!v.capture,C=f?A:S,m=C[r];m||(m=new a,C[r]=m,document.addEventListener(r,j,f)),m.add(o,u)}h(z,"on");function V(r,o,u){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},f=!!v.capture,C=f?A:S,m=C[r];!m||(m.remove(o,u),!m.size&&(delete C[r],document.removeEventListener(r,j,f)))}h(V,"off");function U(r,o,u){return r.dispatchEvent(new CustomEvent(o,{bubbles:!0,cancelable:!0,detail:u}))}h(U,"fire")},45651:(F,T,p)=>{var a=p(30721),g=p(90420),x=p(3447),O=Object.defineProperty,y=Object.getOwnPropertyDescriptor,n=h((c,_,S,A)=>{for(var s=A>1?void 0:A?y(_,S):_,i=c.length-1,e;i>=0;i--)(e=c[i])&&(s=(A?e(_,S,s):e(s))||s);return A&&s&&O(_,S,s),s},"__decorateClass");let d=h(class extends a.a{constructor(){super(...arguments);this.showAllQualifiersIfNoneMatch=!1,this.fuzzyMatchQualifiers=!0,this.showSubmissionOptionIfInvalidSearchTerms=!0,this.suggestionsTitle="Narrow your search",this.spaceBetweenValueAndDescription=!1}fetchQualifierSuggestions(){return[{value:"actor:",description:"octocat"},{value:"branch:",description:"my-branch-name"},{value:"event:",description:"push, pull_request, schedule, check_run, check_suite, etc."},{value:"is:",description:"success, failure, in_progress, neutral, etc."},{value:"workflow:",description:"workflow-name"}]}async fetchSuggestionsForQualifier(c){switch(c){case"branch":return this.fetchBranchSuggestions();case"actor":return this.fetchActorSuggestions();case"event":return this.fetchEventSuggestions();case"is":return this.fetchStatusSuggestions();case"workflow":return this.fetchWorkflowSuggestions();default:return[]}}async fetchBranchSuggestions(){const c=this.searchInput.getAttribute("data-suggested-branches-path");return(await this.cachedJSON(c)).map(S=>({value:S}))}async fetchActorSuggestions(){const c=this.searchInput.getAttribute("data-suggested-actors-path");return(await this.cachedJSON(c)).map(S=>({value:S.login,description:S.displayName}))}async fetchEventSuggestions(){const c=this.searchInput.getAttribute("data-suggested-events-path");return(await this.cachedJSON(c)).map(S=>({value:S}))}async fetchStatusSuggestions(){const c=this.searchInput.getAttribute("data-suggested-statuses-path");return(await this.cachedJSON(c)).map(S=>({value:S}))}async fetchWorkflowSuggestions(){const c=this.searchInput.getAttribute("data-suggested-workflows-path");return(await this.cachedJSON(c)).map(S=>({value:S}))}renderSearchWarningIfRequired(){return""}postDropdownRender(){this.updateKeywordWarning()}invalidSearchTerms(){return this.getFilterInputStringWithoutQualifiers()}getFilterInputStringWithoutQualifiers(){return this.searchInput.value.replace(/\S+:("[^"]+"?|\S)*/g,"").trim()}updateKeywordWarning(){this.getFilterInputStringWithoutQualifiers().length===0?this.hideKeywordWarning():this.showKeywordWarning()}hideKeywordWarning(){this.filterKeywordWarningContainer.hidden=!0}showKeywordWarning(){this.getFilterInputStringWithoutQualifiers().length>0&&(this.filterKeywordWarningMessage.textContent=this.getFilterInputStringWithoutQualifiers(),this.filterKeywordWarningContainer.hidden=!1)}},"ActionsWorkflowFilter");n([g.fA],d.prototype,"filterKeywordWarningContainer",2),n([g.fA],d.prototype,"filterKeywordWarningMessage",2),n([(0,x.D)(300)],d.prototype,"showKeywordWarning",1),d=n([g.Ih],d);var E=p(9115),b=p(68906)},34782:(F,T,p)=>{p.d(T,{C:()=>g,x:()=>a});const a=function(){return document.readyState==="interactive"||document.readyState==="complete"?Promise.resolve():new Promise(x=>{document.addEventListener("DOMContentLoaded",()=>{x()})})}(),g=function(){return document.readyState==="complete"?Promise.resolve():new Promise(x=>{window.addEventListener("load",x)})}()},30721:(F,T,p)=>{p.d(T,{a:()=>A});var a=p(36162),g=p(95412),x=p(59753),O=p(17199),y=p(82036),n=p(90420),d=p(41311),E=Object.defineProperty,b=Object.getOwnPropertyDescriptor,c=h((s,i,e,t)=>{for(var l=t>1?void 0:t?b(i,e):i,w=s.length-1,I;w>=0;w--)(I=s[w])&&(l=(t?I(i,e,l):I(l))||l);return t&&l&&E(i,e,l),l},"__decorateClass");const _=new Map,S=h(class extends HTMLElement{constructor(){super(...arguments);this.showAllQualifiersIfNoneMatch=!0,this.fuzzyMatchQualifiers=!1,this.fuzzyMatchValues=!0,this.showSubmissionOptionIfInvalidSearchTerms=!1,this.suggestionsTitle="Available filters",this.spaceBetweenValueAndDescription=!0,this.selectorOfElementToActivateOnBlur=null,this.unqualifiedSearchTermsAlwaysValid=!0,this.alphaTag=S.tagFn("Alpha"),this.betaTag=S.tagFn("Beta")}async cachedJSON(s){const i=await fetch(s,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!i.ok){const e=new Error,t=i.statusText?` ${i.statusText}`:"";throw e.message=`HTTP ${i.status}${t}`,e}return i.json()}fetchQualifierSuggestions(){const s="data-suggestable-qualifiers",i=this.searchInput.getAttribute(s);if(i===null)throw new Error(`
        ${s} is missing from ${this.searchInput.getAttribute("data-target")}.
        Either add it or override fetchQualifierSuggestions.
      `);return JSON.parse(i)}negatableQualifiers(){return JSON.parse(this.searchInput.getAttribute("data-negatable-qualifiers")||"[]")}removeNegationFromQualifierIfSupported(s){if(!s.startsWith("-"))return s;let[i,...e]=s.split(":");const t=i.substring(1);return this.negatableQualifiers().includes(t)&&(i=t),s.includes(":")&&(i+=":"),(e==null?void 0:e.length)>0?`${i}${e.join(":")}`:i}fetchSuggestionsForQualifier(s){s=this.removeNegationFromQualifierIfSupported(s);const i=`data-suggestable-${s}`,e=`data-suggestable-${s}-path`;if(this.searchInput.hasAttribute(i))return JSON.parse(this.searchInput.getAttribute(i)||"[]");if(this.searchInput.hasAttribute(e)){const t=this.searchInput.getAttribute(e);if(!t)throw new Error(`${e} not set`);return this.cachedJSON(t)}else return Promise.resolve([])}hideFilterSuggestions(){(0,g.jK)(this.searchForm),this.autocompleteDropdown.hidden=!0,this.searchInput.setAttribute("aria-expanded","false")}updateFilterSuggestionResults(){const s=this.searchInput.value,e=(s.slice(0,this.searchInput.selectionEnd).match(/(:"[^"]+"?|\S)+$/)||[""])[0].replace(/"/g,"");this.autocompleteDropdown.hidden=!1,this.searchInput.setAttribute("aria-expanded","true");let t,l;e.includes(":")?[t,...l]=e.split(":"):t=e,l!=null?this.renderValueSuggestions(t,l.join(":")):this.renderQualifierSuggestions(t),s.trim().length>0&&(!this.invalidSearchTerms()||this.showSubmissionOptionIfInvalidSearchTerms)&&!this.searchMatchesDefault()?(this.clearButton&&(this.clearButton.hidden=!1),(0,g.T_)(this.searchForm)):(this.clearButton&&(this.clearButton.hidden=!0),(0,g.QZ)(this.searchForm))}handleSelectedSuggestionResultEvent(s){var i;const e=s.target;if(e.hasAttribute("data-search")){(0,y.Bt)(this.searchForm);return}let t=e.getAttribute("data-value")||"";t[t.length-1]!==":"&&(t+=" ");const l=this.searchInput.value.slice(0,this.searchInput.selectionEnd),w=((i=l.match(/(\S+)$/))==null?void 0:i.pop())||"",I=this.searchInput.value.slice(this.searchInput.selectionEnd),k=I[0]!==" "?" ":"";if(w&&(w.startsWith("-")&&!t.startsWith("-")&&(t=`-${t}`),w.includes(","))){const $=w.split(",");$.pop();const j=t.split(":").slice(1).join(":");$.push(j||""),t=$.join(",")}const L=l.replace(/\S+$/,"");this.searchInput.value=L+t+k+I,s.preventDefault(),this.searchInput.focus();const W=L.length+t.length;this.searchInput.setSelectionRange(W,W),(0,x.f)(this.searchInput,"input")}handleFormKeydownEvent(s){if(s.detail.hotkey==="Enter"){if(this.autocompleteResults.querySelector(".js-filter-loading")||this.autocompleteResults.querySelector(".js-navigation-item.navigation-focus"))return;(0,y.Bt)(this.searchForm)}}clear(){this.searchInput.value=this.getDefaultSearch(),this.getInitialValue().trim().length===0?this.updateFilterSuggestionResults():(0,y.Bt)(this.searchForm)}renderQualifierSuggestions(s){this.showAllQualifiersIfNoneMatch?this.renderMatchingOrAllQualifierSuggestions(s):this.renderMatchingQualifierSuggestions(s)}renderMatchingOrAllQualifierSuggestions(s){const i=this.fetchQualifierSuggestions(),e=this.filterSuggestionsList(i,s,{fuzzy:this.fuzzyMatchQualifiers}).then(t=>t.length===0?i:t);this.renderSuggestionDropdown(e)}renderMatchingQualifierSuggestions(s){const i=this.filterSuggestionsList(this.fetchQualifierSuggestions(),s,{fuzzy:this.fuzzyMatchQualifiers});this.renderSuggestionDropdown(i)}renderValueSuggestions(s,i){const e=this.fetchMatchingSuggestions(s,i);this.renderSuggestionDropdown(e)}async fetchMatchingSuggestions(s,i){const e=this.fetchSuggestionsForQualifier(s),t=i.split(",").pop()||"";return(await this.filterSuggestionsList(e,t,{fuzzy:this.fuzzyMatchValues})).map(w=>({value:`${s}:${w.value}`,description:w.description}))}async filterSuggestionsList(s,i,{fuzzy:e}={fuzzy:!0}){const t=await s;let l=i.trim().toLowerCase();return!l||l.length===0?t:(l.startsWith("-")&&(l=l.slice(1)),t.filter(w=>e?w.value.toLowerCase().includes(l):w.value.toLowerCase().startsWith(l)))}renderSuggestionDropdown(s){(0,a.sY)(a.dy`
        <div>
          ${this.renderSearchWarningIfRequired()}
          ${this.shouldRenderSubmissionOption()?this.renderSearchSuggestion():""}
          ${(0,d.C)(this.renderSuggestionList(s),this.renderLoadingItem())}
        </div>
      `,this.autocompleteResults),this.postDropdownRender()}renderSearchWarningIfRequired(){const s=this.invalidSearchTerms();if(!s||s.length===0)return"";let i=a.dy``;const e=this.getFilterSupportURL();return e&&(i=a.dy`<a class="js-navigation-item js-navigation-open px-1" href="${e}" target="_blank">
        Learn more about filters.
      </a>`),a.dy`
      <div class="color-bg-attention color-fg-muted ml-n2 mr-n2 mt-n1 py-1 px-2 js-search-warning-container">
        Sorry, we don't support the <span class="text-bold">${s}</span> filter yet. ${i}
      </div>
    `}getFilterSupportURL(){return this.searchInput.getAttribute("data-filter-support-url")}postDropdownRender(){}renderSearchSuggestion(){const s=this.searchInput.value.trim();return s.length===0?a.dy``:/:\s|:$/g.test(s)&&!/(?:\w+:){2,}/g.test(s)?a.dy``:a.dy`
      <div class="border-bottom-0 rounded-2 py-1 px-2 mx-0 mb-1 js-navigation-item" data-search="true">
        <span class="text-bold">${s}</span> - submit
      </div>
    `}invalidSearchTerms(){const s=this.fetchQualifierSuggestions().map(L=>L.value),i=new RegExp(/[^\s:]+:/),e=new RegExp(/"(?:\\"|.)*?"/),t=new RegExp(`${i.source}(?:${e.source}|[^\\s]*)`),l=new RegExp(/[^\s]+/),w=new RegExp(`${t.source}|${l.source}`,"g"),k=(this.searchInput.value.match(w)||[]).filter(L=>{L=this.removeNegationFromQualifierIfSupported(L);const W=L.indexOf(":");if(W===-1)return this.unqualifiedSearchTermsAlwaysValid?null:!s.some($=>$.startsWith(L));{const $=L.substr(0,W+1);return!s.some(j=>j===$)}});return k.length===0?null:k.join(" ")}searchMatchesDefault(){const s=this.searchInput.value.trim().split(" ").sort(),i=this.getDefaultSearch().trim().split(" ").sort();return s.length===i.length&&s.every((e,t)=>e===i[t])}getInitialValue(){const s="data-initial-value",i=this.searchInput.getAttribute(s);if(i===null)throw new Error(`${s} is missing from search input`);return i}getDefaultSearch(){const s="data-default-value",i=this.searchInput.getAttribute(s);if(i===null)throw new Error(`${s} is missing from search input`);return i}renderSuggestionsTitle(){return a.dy`<h6 class="width-full text-normal border-bottom color-bg-default color-fg-muted py-2 mb-2">
      ${this.suggestionsTitle}
    </h6>`}async renderSuggestionList(s){const e=(await s).map(t=>a.dy`
          <div
            class="border-bottom-0 rounded-2 py-1 px-2 mx-0 mb-1 js-navigation-item"
            data-value="${t.value}"
          >
            <span class="text-bold">${t.value}</span>${this.spaceBetweenValueAndDescription?" ":""}<span
              class="autocomplete-text-qualifier color-fg-muted"
              >&nbsp;${t.description}</span
            >
            ${t.isAlpha&&this.alphaTag} ${t.isBeta&&this.betaTag}
          </div>
        `);return e.length&&e.unshift(this.renderSuggestionsTitle()),e}renderLoadingItem(){return a.dy`
      ${this.renderSuggestionsTitle()}
      <span class="js-filter-loading">loading...</span>
    `}handleSearchBlur(){this.hideFilterSuggestions(),this.selectorOfElementToActivateOnBlur&&(0,g.QZ)(document.querySelector(this.selectorOfElementToActivateOnBlur))}inputKey(s){s.key==="Escape"&&this.handleSearchBlur()}shouldRenderSubmissionOption(){return this.showSubmissionOptionIfInvalidSearchTerms||!this.invalidSearchTerms()}static tagFn(s){return a.dy`<span class="lh-condensed px-1 rounded-2 border color-border-success">${s}</span>`}},"_BaseFilterElement");let A=S;c([n.fA],A.prototype,"autocompleteDropdown",2),c([n.fA],A.prototype,"autocompleteResults",2),c([n.fA],A.prototype,"clearButton",2),c([n.fA],A.prototype,"searchForm",2),c([n.fA],A.prototype,"searchInput",2),c([(0,O.Z)({cache:_})],A.prototype,"cachedJSON",1)},9115:(F,T,p)=>{var a=p(90420),g=Object.defineProperty,x=Object.getOwnPropertyDescriptor,O=h((n,d,E,b)=>{for(var c=b>1?void 0:b?x(d,E):d,_=n.length-1,S;_>=0;_--)(S=n[_])&&(c=(b?S(d,E,c):S(c))||c);return b&&c&&g(d,E,c),c},"__decorateClass");let y=h(class extends HTMLElement{connectedCallback(){this.control&&(this.storedInput=Array(this.control.children.length).fill("")),this.addEventListener("input",this.relayInput.bind(this)),this.addEventListener("keydown",this.relayKeydown.bind(this));const n=this.closest("details");n&&n.addEventListener("toggle",()=>{n.open&&this.source.focus()})}relayKeydown(n){if((this.isControlTab(n.target)||n.target===this.source)&&(n.key==="ArrowDown"||n.key==="Tab"))n.preventDefault(),n.stopPropagation(),this.routeCustomEvent(new CustomEvent("focus-list"));else if(n.key==="Escape"){const d=this.closest("details");d&&d.removeAttribute("open")}}isControlTab(n){return!n||!this.control?!1:Array.from(this.control.children).includes(n)}relayInput(n){if(!n.target)return;const E=n.target.value;this.routeCustomEvent(new CustomEvent("input-entered",{detail:E}))}routeCustomEvent(n){this.sinks[this.selectedIndex].dispatchEvent(n)}get selectedIndex(){if(!this.control)return 0;const n=this.control.querySelector('[aria-selected="true"]');return n?Array.from(this.control.children).indexOf(n):0}storeInput(){this.storedInput[this.selectedIndex]=this.source.value}updateInput(n){this.source.value=this.storedInput[this.selectedIndex];const d=n.detail.relatedTarget.getAttribute("data-filter-placeholder");this.source.placeholder=d,this.source.setAttribute("aria-label",d),this.notifySelected()}notifySelected(){const n=this.sinks[this.selectedIndex],d=new CustomEvent("tab-selected");n.dispatchEvent(d)}},"InputDemuxElement");O([a.fA],y.prototype,"source",2),O([a.GO],y.prototype,"sinks",2),O([a.fA],y.prototype,"control",2),y=O([a.Ih],y)},43452:(F,T,p)=>{p.d(T,{Z:()=>a});function a(g){var x,O;const y=(O=(x=g.head)==null?void 0:x.querySelector('meta[name="expected-hostname"]'))==null?void 0:O.content;if(!y)return!1;const n=y.replace(/\.$/,"").split(".").slice(-2).join("."),d=g.location.hostname.replace(/\.$/,"").split(".").slice(-2).join(".");return n!==d}h(a,"detectProxySite")},68906:(F,T,p)=>{var a=p(60785),g=p(83476);const{getItem:x,setItem:O,removeItem:y}=(0,a.Z)("localStorage",{throwQuotaErrorsOnSet:!0});var n=(e=>(e.Branch="branch",e.Tag="tag",e))(n||{});const d=h(class{constructor(e,t,l,w,I){this.knownItems=[],this.currentSearchResult=[],this.exactMatchFound=!1,this.isLoading=!0,this.fetchInProgress=!1,this.fetchFailed=!1,this.refType=e,this.selector=t,this.refEndpoint=l,this.cacheKey=w,this.nameWithOwner=I}render(){this.selector.render()}async fetchData(){try{if(!this.isLoading||this.fetchInProgress)return;if(!this.bootstrapFromLocalStorage()){this.fetchInProgress=!0,this.fetchFailed=!1;const e=await fetch(`${this.refEndpoint}?type=${this.refType}`,{headers:{Accept:"application/json"}});await this.processResponse(e)}this.isLoading=!1,this.fetchInProgress=!1,this.render()}catch{this.fetchInProgress=!1,this.fetchFailed=!0}}async processResponse(e){if(this.emitStats(e),!e.ok){this.fetchFailed=!0;return}const t=e.clone(),l=await e.json();this.knownItems=l.refs,this.cacheKey=l.cacheKey,this.flushToLocalStorage(await t.text())}emitStats(e){if(!e.ok){(0,g.b)({incrementKey:"REF_SELECTOR_BOOT_FAILED"},!0);return}switch(e.status){case 200:{(0,g.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_UNCACHED_HTTP"});break}case 304:{(0,g.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_HTTP_CACHE"});break}default:(0,g.b)({incrementKey:"REF_SELECTOR_UNEXPECTED_RESPONSE"})}}search(e){if(e===""){this.currentSearchResult=this.knownItems;return}const t=[],l=[];this.exactMatchFound=!1;let w;for(const I of this.knownItems)if(w=I.indexOf(e),!(w<0)){if(w===0){e===I?(l.unshift(I),this.exactMatchFound=!0):l.push(I);continue}t.push(I)}this.currentSearchResult=[...l,...t]}bootstrapFromLocalStorage(){const e=x(this.localStorageKey);if(!e)return!1;const t=JSON.parse(e);return t.cacheKey!==this.cacheKey||!("refs"in t)?(y(this.localStorageKey),!1):(this.knownItems=t.refs,this.isLoading=!1,(0,g.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_LOCALSTORAGE"}),!0)}async flushToLocalStorage(e){try{O(this.localStorageKey,e)}catch(t){if(t.message.toLowerCase().includes("quota")){this.clearSiblingLocalStorage(),(0,g.b)({incrementKey:"REF_SELECTOR_LOCALSTORAGE_OVERFLOWED"});try{O(this.localStorageKey,e)}catch(l){l.message.toLowerCase().includes("quota")&&(0,g.b)({incrementKey:"REF_SELECTOR_LOCALSTORAGE_GAVE_UP"})}}else throw t}}clearSiblingLocalStorage(){for(const e of Object.keys(localStorage))e.startsWith(d.LocalStoragePrefix)&&y(e)}get localStorageKey(){return`${d.LocalStoragePrefix}:${this.nameWithOwner}:${this.refType}`}},"_SearchIndex");let E=d;E.LocalStoragePrefix="ref-selector";var b=p(69567),c=p(90420),_=p(17945),S=Object.defineProperty,A=Object.getOwnPropertyDescriptor,s=h((e,t,l,w)=>{for(var I=w>1?void 0:w?A(t,l):t,k=e.length-1,L;k>=0;k--)(L=e[k])&&(I=(w?L(t,l,I):L(I))||I);return w&&I&&S(t,l,I),I},"__decorateClass");let i=h(class extends HTMLElement{constructor(){super(...arguments);this.isCurrentVisible=!1,this.currentSelectionIndex=null}connectedCallback(){this.refType=this.getRequiredAttr("type")==="branch"?n.Branch:n.Tag;const e=this.getAttribute("current-committish");this.currentCommittish=e?atob(e):null,this.input=this.hasAttribute("initial-filter")&&this.currentCommittish||"",this.defaultBranch=atob(this.getRequiredAttr("default-branch")),this.nameWithOwner=atob(this.getRequiredAttr("name-with-owner")),this.canCreate=this.hasAttribute("can-create"),this.prefetchOnMouseover=this.hasAttribute("prefetch-on-mouseover");const t=this.getRequiredAttr("query-endpoint"),l=this.getRequiredAttr("cache-key");this.index=new E(this.refType,this,t,l,this.nameWithOwner),this.setupFetchListeners()}inputEntered(e){this.input=e.detail,this.render()}tabSelected(){this.index.fetchData()}renderTemplate(e,t){return new b.R(e,t,b.XK)}renderRow(e){const t=this.index.currentSearchResult[e];if(!t&&e>=this.listLength)return document.createElement("span");if(this.index.fetchFailed)return this.renderTemplate(this.fetchFailedTemplate,{index:e,refName:this.input});if(!t){const L=this.input===this.currentCommittish;return this.isCurrentVisible||(this.isCurrentVisible=L),this.renderTemplate(this.noMatchTemplate,{index:e,isCurrent:L,refName:this.input})}const l=this.input.length>0,w=l?"is-filtering":"",I=t===this.currentCommittish;this.isCurrentVisible||(this.isCurrentVisible=I);const k=this.renderTemplate(this.itemTemplate,{refName:t,index:e,isFilteringClass:w,urlEncodedRefName:this.urlEncodeRef(t),isCurrent:I,isNotDefault:t!==this.defaultBranch});if(l){const L=k.querySelector("span");L.textContent="";const W=t.split(this.input),$=W.length-1;for(let j=0;j<W.length;j++){const z=W[j];if(L.appendChild(document.createTextNode(z)),j<$){const V=document.createElement("b");V.textContent=this.input,L.appendChild(V)}}}return k}urlEncodeRef(e){return encodeURIComponent(e).replaceAll("%2F","/").replaceAll("%3A",":").replaceAll("%2B","+")}render(){if(this.currentSelectionIndex=null,!this.index.isLoading){if(!this.virtualizedList){this.index.search(this.input),this.setupVirtualizedList();return}this.listContainer.scrollTop=0,this.index.search(this.input),this.virtualizedList.setRowCount(this.listLength)}}get listLength(){const e=this.index.currentSearchResult.length;return this.showCreateRow?e+1:e||1}get showCreateRow(){return!this.index.fetchFailed&&!this.index.exactMatchFound&&this.input!==""&&this.canCreate}getRequiredAttr(e,t=this){const l=t.getAttribute(e);if(!l)throw new Error(`Missing attribute for ${t}: ${e}`);return l}setupFetchListeners(){const e=this.closest("details");let t=!1;const l=h(()=>{t||(this.index.fetchData(),t=!0)},"fetch");if(!e||e.open){l();return}this.prefetchOnMouseover&&e.addEventListener("mouseover",l,{once:!0}),this.addEventListener("keydown",this.keydown),this.addEventListener("change",this.updateCurrent);const w=e.querySelector("input[data-ref-filter]");w&&(w.addEventListener("input",()=>{this.input=w.value,this.render()}),w.addEventListener("keydown",I=>{if(I.key==="ArrowDown"||I.key==="Tab")I.preventDefault(),I.stopPropagation(),this.focusFirstListMember();else if(I.key==="Enter"){let k=this.index.currentSearchResult.indexOf(this.input);if(k===-1)if(this.showCreateRow)k=this.listLength-1;else return;e.querySelector(`[data-index="${k}"]`).click(),I.preventDefault()}}))}focusFirstListMember(){!this.virtualizedList||(this.currentSelectionIndex=0,this.focusItemAtIndex(this.currentSelectionIndex))}updateCurrent(e){e.target instanceof HTMLInputElement&&e.target.checked&&e.target.value&&(this.currentCommittish=e.target.value)}keydown(e){if(this.currentSelectionIndex!==null){if(e.key==="Enter"){const t=document.activeElement;if(!t)return;t.click(),e.preventDefault();return}if(!(e.key==="Tab"&&e.shiftKey)&&e.key!=="Escape")switch(e.preventDefault(),e.stopPropagation(),e.key){case"ArrowUp":{this.currentSelectionIndex--,this.currentSelectionIndex<0&&(this.currentSelectionIndex=this.listLength-1),this.focusItemAtIndex(this.currentSelectionIndex);break}case"Home":{this.currentSelectionIndex=0,this.focusItemAtIndex(this.currentSelectionIndex);break}case"End":{this.currentSelectionIndex=this.listLength-1,this.focusItemAtIndex(this.currentSelectionIndex);break}case"Tab":case"ArrowDown":{this.currentSelectionIndex++,this.currentSelectionIndex>this.listLength-1&&(this.currentSelectionIndex=0),this.focusItemAtIndex(this.currentSelectionIndex);break}}}}focusItemAtIndex(e){this.virtualizedList.scrollToIndex(e,"center"),setTimeout(()=>{const t=this.listContainer.querySelector(`[data-index="${e}"]`);t&&t.focus()},20)}setupVirtualizedList(){this.listContainer.innerHTML="",this.virtualizedList=new _.Z(this.listContainer,{height:330,rowCount:this.listLength,renderRow:this.renderRow.bind(this),rowHeight:e=>this.showCreateRow&&e===this.listLength-1?51:33,onRowsRendered:()=>{var e;this.hiddenCurrentElement&&(this.listContainer.removeChild(this.hiddenCurrentElement),delete this.hiddenCurrentElement),this.isCurrentVisible?this.isCurrentVisible=!1:this.hiddenCurrentItemTemplate&&(this.hiddenCurrentElement=document.createElement("div"),(e=this.hiddenCurrentElement)==null||e.appendChild(this.renderTemplate(this.hiddenCurrentItemTemplate,{refName:this.currentCommittish})),this.listContainer.appendChild(this.hiddenCurrentElement))},initialIndex:0,overscanCount:6})}},"RefSelectorElement");s([c.fA],i.prototype,"listContainer",2),s([c.fA],i.prototype,"itemTemplate",2),s([c.fA],i.prototype,"noMatchTemplate",2),s([c.fA],i.prototype,"fetchFailedTemplate",2),s([c.fA],i.prototype,"hiddenCurrentItemTemplate",2),i=s([c.Ih],i)},60785:(F,T,p)=>{p.d(T,{Z:()=>g});class a{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}}h(a,"NoOpStorage");function g(x,O={throwQuotaErrorsOnSet:!1},y=window){let n;try{n=y[x]}catch{n=new a}const{throwQuotaErrorsOnSet:d}=O;function E(_){try{return n.getItem(_)}catch{return null}}h(E,"getItem");function b(_,S){try{n.setItem(_,S)}catch(A){if(d&&A.message.toLowerCase().includes("quota"))throw A}}h(b,"setItem");function c(_){try{n.removeItem(_)}catch{}}return h(c,"removeItem"),{getItem:E,setItem:b,removeItem:c}}h(g,"safeStorage")},83476:(F,T,p)=>{p.d(T,{b:()=>O});var a=p(43452),g=p(34782);let x=[];function O(b,c=!1){b.timestamp===void 0&&(b.timestamp=new Date().getTime()),b.loggedIn=E(),b.bundler="webpack",x.push(b),c?d():n()}h(O,"sendStats");let y=null;async function n(){await g.C,y==null&&(y=window.requestIdleCallback(d))}h(n,"scheduleSendStats");function d(){var b,c;if(y=null,(0,a.Z)(document))return;const _=(c=(b=document.head)==null?void 0:b.querySelector('meta[name="browser-stats-url"]'))==null?void 0:c.content;if(!_)return;const S=JSON.stringify({stats:x});try{navigator.sendBeacon&&navigator.sendBeacon(_,S)}catch{}x=[]}h(d,"flushStats");function E(){var b,c;return!!((c=(b=document.head)==null?void 0:b.querySelector('meta[name="user-login"]'))==null?void 0:c.content)}h(E,"isLoggedIn")},17199:(F,T,p)=>{p.d(T,{Z:()=>g});var a=p(4687);function g(x={}){return(O,y,n)=>{n.value=(0,a.Z)(n.value,x),Object.defineProperty(O,y,n)}}h(g,"memoize")}},F=>{var T=h(a=>F(F.s=a),"__webpack_exec__");F.O(0,[5724,5388,9848,90,3302],()=>T(45651));var p=F.O()}]);})();

//# sourceMappingURL=actions-cfbb8e211caf.js.map